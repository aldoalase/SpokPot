{% extends 'layout.html' %}
{% block head %}
{% endblock %}
{% block chartactive %} active {% endblock %}
{% block content %}
<canvas id="line" height="480" width="600"></canvas><canvas id="pie" height="480" width="600"></canvas>
{% for pat in bypattern %}
	<h5>{{pat.pattern}} - {{pat.sum}}</h5>
{% endfor %}
{% endblock %}
{% block script %}
<script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>

	<script>

		var lineChartData = {
			labels : [{% for chart in bydate %}"{{ chart.date }}",{% endfor %}],
			datasets : [
				{
					fillColor : "rgba(151,187,205,0.5)",
					strokeColor : "rgba(151,187,205,1)",
					pointColor : "rgba(151,187,205,1)",
					pointStrokeColor : "#fff",
					data : [{% for chart in bydate %}{{ chart.sum }},{% endfor %}]
				}
			]
			
		}

	var myLine = new Chart(document.getElementById("line").getContext("2d")).Line(lineChartData);

		var pieData = [
				{%- for pat in bypattern %}
					{
						value: {{pat.sum}},
						color:"{{pat.color}}",
					},
				{%- endfor %}
			
			];

	var myPie = new Chart(document.getElementById("pie").getContext("2d")).Pie(pieData);

	</script>
{% endblock %}